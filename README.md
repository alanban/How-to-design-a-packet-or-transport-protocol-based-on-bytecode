# How to design transport protocol based on bytecode
如何设计基于字节码的报文或传输协议
## 计算机基础
### 数据的本质
任何数据在计算机的存储形式为0或1（二进制），计算机将这些数据存储于硬盘/内存/寄存器等存储空间中，cpu将指定位置指定长度的二进制数据进行位运算以得到结果


- 二进制
二进制是由1和0两个数字组成的，它可以表示两种状态，即开和关.所有输入电脑的任何信息最终都要转化为二进制, 最基本的单位为bit.
- 位运算
程序中的所有数在计算机内存中都是以二进制的形式储存;位运算是指将这些二进制数据按位进行运算，位运算的运算符包括：

| 运算符 | 意义 | 例子 |
|:---- | :---- | :---- |
|<<|右移(各二进位全部右移若干位，对无符号数，高位补0，有符号数，各编译器处理方法不一样，有的补符号位（算术右移），有的补0（逻辑右移）)|0011 << 1 = 0110|
|>>|左移(各二进位全部左移若干位，高位丢弃，低位补0)|0011 >> 1 = 0001|
|&|与(两个位都为1时，结果才为1)|0111 & 1100 = 0100|
|｜|或(两个位都为0时，结果才为0)|0011 ｜ 1011 = 1011|
|^|异或(两个位相同为0，相异为1)|0011 ^ 1010 = 1001|
|~|取反(0变1，1变0)|~0011 = 1100|


### 常用结构
### 大小端
### 位掩码
BitMask掩码

BitMask在计算机学中指的是一串二进制数字，通过与目标数字的按位操作，达到屏蔽指定位的目的。BitMask采用数值记录状态，每一个bit有两种取值，即0和1，数值的每一位表示一个状态。使用BitMask可以用很少的资源表达非常丰富的状态。在 Java 中，一個 byte 型的数组，有 8 位(bit)，可以表达 8 个不同的状态，而且这些状态并不会相互影响。对于int，则32位，即可以表达32种状态。使用掩码，可以在单个按位操作中将字节，半字节，字等中的多个位设置为打开，关闭或从打开反转为关闭(反之亦然)。



## 校验算法
### 奇偶校验
### Checksum
### LRC
### CRC

## 报文和协议设计的技巧或约定
### 设计数据帧大小
### 文档的编写

## 发送和接收数据
### 数据流
